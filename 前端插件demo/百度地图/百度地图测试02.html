<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
		<title>百度地图初次体验</title>
		<style type="text/css">
			html{
				height: 100%;
			}
			body{
				height: 100%;
				margin: 0;
				padding: 0;
			}
			#container{
				width: 100%;
				height: 300px;
			}
		</style>
		<!--引入地图api文件-->
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=zvMXTiO7GbDnBfMw9FekLmtYUc8zGz0K"></script>
	</head>
	<body>
	   <div id="container"></div> <!--创建地图容器-->
	   <script>
	   		var map = new BMap.Map("container"); //创建地图实例
	   		var point = new BMap.Point(117.281802,31.764987); //创建中心点坐标
	   		map.centerAndZoom(point, 15);  //地图初始化，并显示地图展示级别(缩放级别)
//	   		map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);    //前两句代码的缩写
	   		map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
	   		
	   		var marker = new BMap.Marker(point);        // 创建标注    
            map.addOverlay(marker);                     // 将标注添加到地图中 ，默认标注样式
            
            //IP定位
//          var map = new BMap.Map("allmap");
//			var point = new BMap.Point(116.331398,39.897445);
//			map.centerAndZoom(point,12);
			
			function myFun(result){
				var cityName = result.name;
				map.setCenter(cityName);
				alert("当前定位城市:"+cityName);
			}
			var myCity = new BMap.LocalCity();
			myCity.get(myFun); 
	   </script>
	</body>
</html>
